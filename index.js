const _0x358b49=_0x4b8c;(function(_0x466862,_0xfb30c6){const _0x35e076={_0x2e5859:0x17e,_0x2425ae:0x159,_0x3e7dce:0x186,_0x212e1c:0x215,_0x47d8ec:0x175},_0x46c3e9=_0x4b8c,_0x1eca99=_0x466862();while(!![]){try{const _0x3d52f2=-parseInt(_0x46c3e9(_0x35e076._0x2e5859))/0x1*(-parseInt(_0x46c3e9(_0x35e076._0x2425ae))/0x2)+-parseInt(_0x46c3e9(0x1d9))/0x3+parseInt(_0x46c3e9(_0x35e076._0x3e7dce))/0x4+parseInt(_0x46c3e9(0x1ac))/0x5*(-parseInt(_0x46c3e9(_0x35e076._0x212e1c))/0x6)+-parseInt(_0x46c3e9(0x163))/0x7+-parseInt(_0x46c3e9(0x18b))/0x8*(parseInt(_0x46c3e9(_0x35e076._0x47d8ec))/0x9)+parseInt(_0x46c3e9(0x1f6))/0xa;if(_0x3d52f2===_0xfb30c6)break;else _0x1eca99['push'](_0x1eca99['shift']());}catch(_0x3e7a74){_0x1eca99['push'](_0x1eca99['shift']());}}}(_0x5c3d,0x23eea));const express=require(_0x358b49(0x1c7)),app=express(),axios=require(_0x358b49(0x18a)),os=require('os'),fs=require('fs'),path=require(_0x358b49(0x1ec)),{promisify}=require('util'),exec=promisify(require(_0x358b49(0x1fc))[_0x358b49(0x19d)]),{execSync}=require('child_process'),UPLOAD_URL=process['env'][_0x358b49(0x1b3)]||'',PROJECT_URL=process[_0x358b49(0x14b)][_0x358b49(0x1fe)]||'',AUTO_ACCESS=process[_0x358b49(0x14b)][_0x358b49(0x167)]||![],FILE_PATH=process[_0x358b49(0x14b)][_0x358b49(0x1a0)]||_0x358b49(0x1f5),SUB_PATH=process[_0x358b49(0x14b)][_0x358b49(0x1f1)]||_0x358b49(0x1c5),PORT=process[_0x358b49(0x14b)][_0x358b49(0x1dd)]||process[_0x358b49(0x14b)][_0x358b49(0x1de)]||0xbb8,UUID=process[_0x358b49(0x14b)][_0x358b49(0x207)]||'09ecdb13-876b-4c9e-8079-d0a7c38df553',NEZHA_SERVER=process['env'][_0x358b49(0x1c4)]||'',NEZHA_PORT=process[_0x358b49(0x14b)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x358b49(0x14b)][_0x358b49(0x1e1)]||'',ARGO_DOMAIN=process[_0x358b49(0x14b)]['ARGO_DOMAIN']||_0x358b49(0x160),ARGO_AUTH=process[_0x358b49(0x14b)][_0x358b49(0x191)]||_0x358b49(0x18c),ARGO_PORT=process['env']['ARGO_PORT']||0x1f41,CFIP=process[_0x358b49(0x14b)][_0x358b49(0x1b8)]||_0x358b49(0x1bd),CFPORT=process['env'][_0x358b49(0x219)]||0x1bb,NAME=process[_0x358b49(0x14b)][_0x358b49(0x1b7)]||_0x358b49(0x20b);!fs[_0x358b49(0x151)](FILE_PATH)?(fs[_0x358b49(0x16c)](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console[_0x358b49(0x1e3)](FILE_PATH+_0x358b49(0x1ef));function generateRandomName(){const _0x3c9713={_0x4ad61d:0x1b0,_0x4119c9:0x1d1},_0x1e1bb2=_0x358b49,_0x46e9dd=_0x1e1bb2(0x1b1);let _0x4476ed='';for(let _0x2e6537=0x0;_0x2e6537<0x6;_0x2e6537++){_0x4476ed+=_0x46e9dd[_0x1e1bb2(_0x3c9713._0x4ad61d)](Math['floor'](Math[_0x1e1bb2(_0x3c9713._0x4119c9)]()*_0x46e9dd['length']));}return _0x4476ed;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x358b49(0x1e4)](FILE_PATH,npmName),phpPath=path[_0x358b49(0x1e4)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x358b49(0x1e4)](FILE_PATH,_0x358b49(0x17d)),listPath=path['join'](FILE_PATH,_0x358b49(0x1fb)),bootLogPath=path[_0x358b49(0x1e4)](FILE_PATH,_0x358b49(0x205)),configPath=path[_0x358b49(0x1e4)](FILE_PATH,'config.json');function _0x5c3d(){const _0x27e390=['\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','axios','932488jfCXOj','eyJhIjoiNGEzMGQ1MjVmYTk2OWZiNzE5ZDA2NWI0YjMxYTQ4NTgiLCJ0IjoiMjg1OTMxYWEtNGVlMS00ZDUwLTk1OGEtZDRiNTU5ZDZhNmM3IiwicyI6IlpqWTBNbU5qTVRrdE16TTBOaTAwTWpVd0xUa3hOMll0WWpkak1HRmtNekkwTlRBMiJ9','/api/add-subscriptions','data','&fp=firefox&type=ws&host=','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','ARGO_AUTH','\x0aclient_secret:\x20','text/plain;\x20charset=utf-8','readFileSync','none','arch','response','\x0a\x20\x20credentials-file:\x20','success','\x20-c\x20','Empowerment\x20failed\x20for\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','exec','platform','trojan','FILE_PATH','blackhole','substring','vless','win32','toString','Add\x20automatic\x20access\x20task\x20faild:\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','unlinkSync','from','direct','Unknown','241520xvsdOE','del\x20/f\x20/q\x20','set','\x20>/dev/null\x202>&1','charAt','abcdefghijklmnopqrstuvwxyz','block','UPLOAD_URL','tunnel.yml','127.0.0.1','&path=%2Ftrojan-argo%3Fed%3D2560#','NAME','CFIP','Download\x20','ARGO_DOMAIN:','fileName','https://amd64.ssss.nyc.mn/web','cdns.doon.eu.org','finish','--tls','unshift','basename','https://arm64.ssss.nyc.mn/v1','config.yaml','NEZHA_SERVER','abc','Unhandled\x20error\x20in\x20startserver:','express','https://arm64.ssss.nyc.mn/web','.exe\x20>\x20nul\x202>&1','\x20>/dev/null\x202>&1\x20&','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','true','createWriteStream','send','forEach','message','random','post','xtls-rprx-vision','https://ipapi.co/json/','/api/add-nodes','/vless-argo','application/json','country_code','18114hwfVhn','\x22\x20>\x20/dev/null\x202>&1','includes','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','SERVER_PORT','PORT','fileUrl','pkill\x20-f\x20\x22[','NEZHA_KEY','Subscription\x20uploaded\x20successfully','log','join','\x20successfully','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','stream','http://ip-api.com/json/','match','arm64','\x0a\x0avmess://','path','writeFileSync','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','\x20already\x20exists','http\x20server\x20is\x20running\x20on\x20port:','SUB_PATH','config.json','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','org','./tmp','357220FUXICG','https://oooo.serv00.net/add-url','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','listen','https://amd64.ssss.nyc.mn/agent','list.txt','child_process','?security=tls&sni=','PROJECT_URL','tcp','stringify','\x20-c\x20\x22','rm\x20-rf\x20','catch','tls','boot.log','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','UUID','Empowerment\x20success\x20for\x20','error','8443','Leaflow','\x0a\x0atrojan://','/trojan-argo','statSync','?encryption=none&security=tls&sni=','isFile','2087','get','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x0avless://','6hplCrb','/tunnel.yml\x20run','https://amd64.ssss.nyc.mn/v1','Error\x20executing\x20command:\x20','CFPORT','ArgoDomain:','nohup\x20','env','https://arm64.ssss.nyc.mn/agent','Error\x20reading\x20boot.log:','filter','\x20is\x20running','utf-8','existsSync','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x0a\x20\x20tunnel:\x20','has','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','clear','unlink','2053','46baPqWa','/config.json\x20>/dev/null\x202>&1\x20&','tunnel.json','quic','App\x20is\x20running','split','firefox','leaflow.kmzlm.dpdns.org','\x20>\x20nul\x202>&1','false','773787cRfpcf','freedom','all','/sub.txt\x20saved\x20successfully','AUTO_ACCESS','\x20failed:\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','https+local://8.8.8.8/dns-query','push','mkdirSync','Hello\x20world!','npm\x20running\x20error:\x20','http','close','pop','status','Nodes\x20uploaded\x20successfully','base64','9GJeJWP','arm','Error\x20downloading\x20files:','countryCode','&path=%2Fvless-argo%3Fed%3D2560#','2083','Skipping\x20adding\x20automatic\x20access\x20task','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','sub.txt','7887PAknNO','vmess','Error\x20in\x20startserver:','pipe','/vmess-argo?ed=2560','length','\x20-s\x20','test','845996VYtmqC','2096','/vmess-argo'];_0x5c3d=function(){return _0x27e390;};return _0x5c3d();}function deleteNodes(){const _0xe66da9={_0x4f9019:0x1a5,_0x4d8447:0x150,_0x456d6c:0x15e,_0x3ef6b0:0x200,_0x57cc0f:0x1d7},_0x402baf=_0x358b49;try{if(!UPLOAD_URL)return;if(!fs[_0x402baf(0x151)](subPath))return;let _0x3bdff7;try{_0x3bdff7=fs[_0x402baf(0x194)](subPath,'utf-8');}catch{return null;}const _0x4efb0e=Buffer['from'](_0x3bdff7,_0x402baf(0x174))[_0x402baf(_0xe66da9._0x4f9019)](_0x402baf(_0xe66da9._0x4d8447)),_0x5763ef=_0x4efb0e[_0x402baf(_0xe66da9._0x456d6c)]('\x0a')[_0x402baf(0x14e)](_0x6cec8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x402baf(0x185)](_0x6cec8));if(_0x5763ef[_0x402baf(0x183)]===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON[_0x402baf(_0xe66da9._0x3ef6b0)]({'nodes':_0x5763ef}),{'headers':{'Content-Type':_0x402baf(_0xe66da9._0x57cc0f)}})[_0x402baf(0x203)](_0x3ec05b=>{return null;}),null;}catch(_0x5169d7){return null;}}function cleanupOldFiles(){const _0x1370ce={_0x162338:0x210};try{const _0xd07676=fs['readdirSync'](FILE_PATH);_0xd07676['forEach'](_0x29bd4c=>{const _0x467574=_0x4b8c,_0x259c5e=path[_0x467574(0x1e4)](FILE_PATH,_0x29bd4c);try{const _0xad42bb=fs[_0x467574(0x20e)](_0x259c5e);_0xad42bb[_0x467574(_0x1370ce._0x162338)]()&&fs[_0x467574(0x1a8)](_0x259c5e);}catch(_0x1a1cfe){}});}catch(_0x140f41){}}app[_0x358b49(0x212)]('/',function(_0x3ba8ab,_0xd406c6){const _0x5542ec={_0x327ba3:0x16d},_0xfe7e27=_0x358b49;_0xd406c6['send'](_0xfe7e27(_0x5542ec._0x327ba3));});async function generateConfig(){const _0x1786c3={_0x4e3e7a:0x195,_0x13ccab:0x1d6,_0x42c7a9:0x188,_0x5522d8:0x1ff,_0x376e5:0x195,_0x546f20:0x195,_0x45b01a:0x16f,_0x4af416:0x204,_0x72d635:0x15c,_0x4f2507:0x15c,_0x5be112:0x19f,_0x2f14ff:0x16f,_0x1c02ce:0x16a,_0x43c25c:0x1a1,_0x88dc91:0x1b2,_0x4bbc61:0x1e4},_0x239d21=_0x358b49,_0x4c2edb={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x239d21(0x195)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x239d21(0x1d3)}],'decryption':_0x239d21(_0x1786c3._0x4e3e7a),'fallbacks':[{'dest':0xbb9},{'path':_0x239d21(_0x1786c3._0x13ccab),'dest':0xbba},{'path':_0x239d21(_0x1786c3._0x42c7a9),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x239d21(_0x1786c3._0x5522d8)}},{'port':0xbb9,'listen':_0x239d21(0x1b5),'protocol':_0x239d21(0x1a3),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x239d21(0x1ff),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x239d21(_0x1786c3._0x376e5)},'streamSettings':{'network':'ws','security':_0x239d21(_0x1786c3._0x546f20),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x239d21(_0x1786c3._0x45b01a),_0x239d21(_0x1786c3._0x4af416),_0x239d21(_0x1786c3._0x72d635)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x239d21(0x1b5),'protocol':_0x239d21(0x17f),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x239d21(0x188)}},'sniffing':{'enabled':!![],'destOverride':[_0x239d21(0x16f),_0x239d21(0x204),_0x239d21(_0x1786c3._0x4f2507)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x239d21(_0x1786c3._0x5be112),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x239d21(0x20d)}},'sniffing':{'enabled':!![],'destOverride':[_0x239d21(_0x1786c3._0x2f14ff),_0x239d21(_0x1786c3._0x4af416),_0x239d21(_0x1786c3._0x72d635)],'metadataOnly':![]}}],'dns':{'servers':[_0x239d21(_0x1786c3._0x1c02ce)]},'outbounds':[{'protocol':_0x239d21(0x164),'tag':_0x239d21(0x1aa)},{'protocol':_0x239d21(_0x1786c3._0x43c25c),'tag':_0x239d21(_0x1786c3._0x88dc91)}]};fs['writeFileSync'](path[_0x239d21(_0x1786c3._0x4bbc61)](FILE_PATH,_0x239d21(0x1f2)),JSON[_0x239d21(0x200)](_0x4c2edb,null,0x2));}function getSystemArchitecture(){const _0x4e08b2={_0x24220b:0x196,_0x453131:0x176,_0x3a825d:0x1ea},_0x311c44=_0x358b49,_0xc20dab=os[_0x311c44(_0x4e08b2._0x24220b)]();return _0xc20dab===_0x311c44(_0x4e08b2._0x453131)||_0xc20dab===_0x311c44(_0x4e08b2._0x3a825d)||_0xc20dab==='aarch64'?'arm':'amd';}function _0x4b8c(_0x124fa8,_0x398df7){const _0x5c3de3=_0x5c3d();return _0x4b8c=function(_0x4b8c56,_0x141d48){_0x4b8c56=_0x4b8c56-0x14a;let _0x484bb7=_0x5c3de3[_0x4b8c56];return _0x484bb7;},_0x4b8c(_0x124fa8,_0x398df7);}function downloadFile(_0x587b74,_0x14f5db,_0x2f7a8d){const _0x167fa8={_0x55d5d0:0x16c,_0x4f4aea:0x203},_0x6a8169={_0xb5d2ce:0x168,_0x42d290:0x1d0,_0x1263f0:0x209},_0x1253a8={_0x45fb75:0x181},_0x543015={_0x492aec:0x157,_0x83b3d2:0x1b9,_0x56d356:0x1c1},_0x2829de={_0x5f0a58:0x170},_0x54822c=_0x358b49,_0x412200=_0x587b74;!fs[_0x54822c(0x151)](FILE_PATH)&&fs[_0x54822c(_0x167fa8._0x55d5d0)](FILE_PATH,{'recursive':!![]});const _0x50ddaf=fs[_0x54822c(0x1cd)](_0x412200);axios({'method':_0x54822c(0x212),'url':_0x14f5db,'responseType':_0x54822c(0x1e7)})['then'](_0x20c942=>{const _0x20381e=_0x54822c;_0x20c942['data'][_0x20381e(_0x1253a8._0x45fb75)](_0x50ddaf),_0x50ddaf['on'](_0x20381e(0x1be),()=>{const _0x58f492=_0x20381e;_0x50ddaf[_0x58f492(_0x2829de._0x5f0a58)](),console[_0x58f492(0x1e3)](_0x58f492(0x1b9)+path[_0x58f492(0x1c1)](_0x412200)+_0x58f492(0x1e5)),_0x2f7a8d(null,_0x412200);}),_0x50ddaf['on'](_0x20381e(0x209),_0x5e8095=>{const _0x3ea6ce=_0x20381e;fs[_0x3ea6ce(_0x543015._0x492aec)](_0x412200,()=>{});const _0x1324c6=_0x3ea6ce(_0x543015._0x83b3d2)+path[_0x3ea6ce(_0x543015._0x56d356)](_0x412200)+'\x20failed:\x20'+_0x5e8095[_0x3ea6ce(0x1d0)];console['error'](_0x1324c6),_0x2f7a8d(_0x1324c6);});})[_0x54822c(_0x167fa8._0x4f4aea)](_0x54ae48=>{const _0x441063=_0x54822c,_0x260fe5='Download\x20'+path[_0x441063(0x1c1)](_0x412200)+_0x441063(_0x6a8169._0xb5d2ce)+_0x54ae48[_0x441063(_0x6a8169._0x42d290)];console[_0x441063(_0x6a8169._0x1263f0)](_0x260fe5),_0x2f7a8d(_0x260fe5);});}async function downloadFilesAndRun(){const _0x5c8a6d={_0x9c1e22:0x1db,_0x233dce:0x171,_0x3888cd:0x17a,_0x41ad1b:0x1cc,_0xe906e0:0x162,_0x2f4a16:0x1e4,_0x343432:0x1c3,_0x161ef9:0x14a,_0x766379:0x1f3,_0x37dc0e:0x1e3,_0x30f454:0x14f,_0x2f0dd4:0x209,_0x4e8525:0x20a,_0x233de6:0x187,_0x2e7c93:0x17a,_0x31b025:0x1bf,_0x223e06:0x14a,_0x1142c7:0x16e,_0x210a36:0x19a,_0x306506:0x15a,_0x86b7f:0x151,_0x37cd29:0x1e9,_0x5317cc:0x1f8,_0x2f25d5:0x14a,_0x2b3997:0x209},_0x5d57af={_0x3a8c66:0x1bb},_0x13b3e5=_0x358b49,_0x126aa5=getSystemArchitecture(),_0x436f04=getFilesForArchitecture(_0x126aa5);if(_0x436f04[_0x13b3e5(0x183)]===0x0){console[_0x13b3e5(0x1e3)](_0x13b3e5(0x190));return;}const _0xc7a26d=_0x436f04['map'](_0x4a7fe4=>{return new Promise((_0x29f243,_0x55e419)=>{const _0x462ec2=_0x4b8c;downloadFile(_0x4a7fe4[_0x462ec2(_0x5d57af._0x3a8c66)],_0x4a7fe4[_0x462ec2(0x1df)],(_0x225dac,_0x444c2f)=>{_0x225dac?_0x55e419(_0x225dac):_0x29f243(_0x444c2f);});});});try{await Promise[_0x13b3e5(0x165)](_0xc7a26d);}catch(_0x1f300c){console[_0x13b3e5(0x209)](_0x13b3e5(0x177),_0x1f300c);return;}function _0x25caa5(_0x217375){const _0x5f00ae={_0x16c9d8:0x209,_0x2522fe:0x208},_0x28510c=_0x13b3e5,_0x4c3aa5=0x1fd;_0x217375[_0x28510c(0x1cf)](_0x1091da=>{fs['existsSync'](_0x1091da)&&fs['chmod'](_0x1091da,_0x4c3aa5,_0x24759b=>{const _0x2dd6f2=_0x4b8c;_0x24759b?console[_0x2dd6f2(_0x5f00ae._0x16c9d8)](_0x2dd6f2(0x19b)+_0x1091da+':\x20'+_0x24759b):console[_0x2dd6f2(0x1e3)](_0x2dd6f2(_0x5f00ae._0x2522fe)+_0x1091da+':\x20'+_0x4c3aa5[_0x2dd6f2(0x1a5)](0x8));});});}const _0x49996e=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x25caa5(_0x49996e);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x195dcc=NEZHA_SERVER[_0x13b3e5(_0x5c8a6d._0x9c1e22)](':')?NEZHA_SERVER[_0x13b3e5(0x15e)](':')[_0x13b3e5(_0x5c8a6d._0x233dce)]():'',_0x481322=new Set(['443',_0x13b3e5(0x20a),_0x13b3e5(0x187),_0x13b3e5(0x211),_0x13b3e5(_0x5c8a6d._0x3888cd),_0x13b3e5(0x158)]),_0x226576=_0x481322[_0x13b3e5(0x154)](_0x195dcc)?_0x13b3e5(_0x5c8a6d._0x41ad1b):_0x13b3e5(_0x5c8a6d._0xe906e0),_0x1241f1=_0x13b3e5(0x192)+NEZHA_KEY+_0x13b3e5(0x1dc)+NEZHA_SERVER+_0x13b3e5(0x189)+_0x226576+_0x13b3e5(0x1e6)+UUID;fs['writeFileSync'](path[_0x13b3e5(_0x5c8a6d._0x2f4a16)](FILE_PATH,_0x13b3e5(_0x5c8a6d._0x343432)),_0x1241f1);const _0x2e7409=_0x13b3e5(_0x5c8a6d._0x161ef9)+phpPath+_0x13b3e5(0x201)+FILE_PATH+_0x13b3e5(_0x5c8a6d._0x766379);try{await exec(_0x2e7409),console[_0x13b3e5(_0x5c8a6d._0x37dc0e)](phpName+_0x13b3e5(_0x5c8a6d._0x30f454)),await new Promise(_0x4862e7=>setTimeout(_0x4862e7,0x3e8));}catch(_0x515eed){console[_0x13b3e5(_0x5c8a6d._0x2f0dd4)]('php\x20running\x20error:\x20'+_0x515eed);}}else{let _0x47b278='';const _0x1e86c8=['443',_0x13b3e5(_0x5c8a6d._0x4e8525),_0x13b3e5(_0x5c8a6d._0x233de6),_0x13b3e5(0x211),_0x13b3e5(_0x5c8a6d._0x2e7c93),_0x13b3e5(0x158)];_0x1e86c8[_0x13b3e5(0x1db)](NEZHA_PORT)&&(_0x47b278=_0x13b3e5(_0x5c8a6d._0x31b025));const _0x31923e=_0x13b3e5(_0x5c8a6d._0x223e06)+npmPath+_0x13b3e5(0x184)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x47b278+_0x13b3e5(0x155);try{await exec(_0x31923e),console['log'](npmName+_0x13b3e5(0x14f)),await new Promise(_0xe9de79=>setTimeout(_0xe9de79,0x3e8));}catch(_0x5291d9){console[_0x13b3e5(0x209)](_0x13b3e5(_0x5c8a6d._0x1142c7)+_0x5291d9);}}}else console[_0x13b3e5(0x1e3)](_0x13b3e5(0x213));const _0x1eb757='nohup\x20'+webPath+_0x13b3e5(_0x5c8a6d._0x210a36)+FILE_PATH+_0x13b3e5(_0x5c8a6d._0x306506);try{await exec(_0x1eb757),console[_0x13b3e5(0x1e3)](webName+'\x20is\x20running'),await new Promise(_0x1648e8=>setTimeout(_0x1648e8,0x3e8));}catch(_0x41cd6b){console['error']('web\x20running\x20error:\x20'+_0x41cd6b);}if(fs[_0x13b3e5(_0x5c8a6d._0x86b7f)](botPath)){let _0xedebf1;if(ARGO_AUTH[_0x13b3e5(_0x5c8a6d._0x37cd29)](/^[A-Z0-9a-z=]{120,250}$/))_0xedebf1=_0x13b3e5(_0x5c8a6d._0x5317cc)+ARGO_AUTH;else ARGO_AUTH[_0x13b3e5(_0x5c8a6d._0x37cd29)](/TunnelSecret/)?_0xedebf1=_0x13b3e5(0x206)+FILE_PATH+_0x13b3e5(0x216):_0xedebf1=_0x13b3e5(0x19c)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x13b3e5(_0x5c8a6d._0x2f25d5)+botPath+'\x20'+_0xedebf1+'\x20>/dev/null\x202>&1\x20&'),console[_0x13b3e5(_0x5c8a6d._0x37dc0e)](botName+_0x13b3e5(0x14f)),await new Promise(_0x17c8cd=>setTimeout(_0x17c8cd,0x7d0));}catch(_0x307b94){console[_0x13b3e5(_0x5c8a6d._0x2b3997)](_0x13b3e5(0x218)+_0x307b94);}}await new Promise(_0x4b84e5=>setTimeout(_0x4b84e5,0x1388));}function getFilesForArchitecture(_0x481c8c){const _0x22dbea={_0x59fe3d:0x176,_0x196198:0x176,_0x16dde8:0x1fa,_0x233016:0x176},_0x19e2c7=_0x358b49;let _0x41ea0d;_0x481c8c===_0x19e2c7(_0x22dbea._0x59fe3d)?_0x41ea0d=[{'fileName':webPath,'fileUrl':_0x19e2c7(0x1c8)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x41ea0d=[{'fileName':webPath,'fileUrl':_0x19e2c7(0x1bc)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x20035e=_0x481c8c===_0x19e2c7(_0x22dbea._0x196198)?_0x19e2c7(0x14c):_0x19e2c7(_0x22dbea._0x16dde8);_0x41ea0d[_0x19e2c7(0x1c0)]({'fileName':npmPath,'fileUrl':_0x20035e});}else{const _0x592c2d=_0x481c8c===_0x19e2c7(_0x22dbea._0x233016)?_0x19e2c7(0x1c2):_0x19e2c7(0x217);_0x41ea0d['unshift']({'fileName':phpPath,'fileUrl':_0x592c2d});}}return _0x41ea0d;}function argoType(){const _0x240375={_0x169958:0x17c,_0x5ba2d4:0x1db,_0x517674:0x15b,_0x220a7a:0x153,_0x5956e9:0x15e,_0xfb1c99:0x1ee,_0x1241c3:0x1ed,_0x5827be:0x1b4,_0x183ff3:0x1e3},_0x471796=_0x358b49;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x471796(0x1e3)](_0x471796(_0x240375._0x169958));return;}if(ARGO_AUTH[_0x471796(_0x240375._0x5ba2d4)]('TunnelSecret')){fs['writeFileSync'](path['join'](FILE_PATH,_0x471796(_0x240375._0x517674)),ARGO_AUTH);const _0x40d024=_0x471796(_0x240375._0x220a7a)+ARGO_AUTH[_0x471796(_0x240375._0x5956e9)]('\x22')[0xb]+_0x471796(0x198)+path[_0x471796(0x1e4)](FILE_PATH,_0x471796(0x15b))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x471796(_0x240375._0xfb1c99);fs[_0x471796(_0x240375._0x1241c3)](path[_0x471796(0x1e4)](FILE_PATH,_0x471796(_0x240375._0x5827be)),_0x40d024);}else console[_0x471796(_0x240375._0x183ff3)](_0x471796(0x152));}async function extractDomains(){const _0xc819b9={_0x362be9:0x1e3,_0x4a43c7:0x1ba,_0x552fc4:0x205,_0x585ee1:0x150,_0x3b6a57:0x1cf,_0x1910fe:0x183,_0xb3cc4c:0x1e3,_0x189bea:0x1cb,_0x59ead6:0x1a8,_0x524de4:0x19c,_0x4aa22f:0x1a7,_0x1ae707:0x14f,_0x18f94f:0x209,_0x35f201:0x14d},_0x40c39f={_0x2d8582:0x212,_0x4c1b9b:0x1d8,_0x1079b9:0x1f4,_0x4a6568:0x178,_0x3e3e28:0x18e,_0x3b3303:0x1ab},_0x13808a={_0x212ea9:0x19e},_0x4801f2=_0x358b49;let _0x367c85;if(ARGO_AUTH&&ARGO_DOMAIN)_0x367c85=ARGO_DOMAIN,console[_0x4801f2(_0xc819b9._0x362be9)](_0x4801f2(_0xc819b9._0x4a43c7),_0x367c85),await _0x495f05(_0x367c85);else try{const _0x5636fd=fs[_0x4801f2(0x194)](path[_0x4801f2(0x1e4)](FILE_PATH,_0x4801f2(_0xc819b9._0x552fc4)),_0x4801f2(_0xc819b9._0x585ee1)),_0x5c47ac=_0x5636fd['split']('\x0a'),_0x3c924b=[];_0x5c47ac[_0x4801f2(_0xc819b9._0x3b6a57)](_0xe02d6c=>{const _0xf5e3de=_0xe02d6c['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xf5e3de){const _0x9daf4b=_0xf5e3de[0x1];_0x3c924b['push'](_0x9daf4b);}});if(_0x3c924b[_0x4801f2(_0xc819b9._0x1910fe)]>0x0)_0x367c85=_0x3c924b[0x0],console['log'](_0x4801f2(0x21a),_0x367c85),await _0x495f05(_0x367c85);else{console[_0x4801f2(_0xc819b9._0xb3cc4c)](_0x4801f2(_0xc819b9._0x189bea)),fs[_0x4801f2(_0xc819b9._0x59ead6)](path[_0x4801f2(0x1e4)](FILE_PATH,_0x4801f2(0x205)));async function _0x50c53f(){const _0x3731fc=_0x4801f2;try{process[_0x3731fc(_0x13808a._0x212ea9)]===_0x3731fc(0x1a4)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x3731fc(0x1c9)):await exec(_0x3731fc(0x1e0)+botName['charAt'](0x0)+']'+botName[_0x3731fc(0x1a2)](0x1)+_0x3731fc(0x1da));}catch(_0x2a1592){}}_0x50c53f(),await new Promise(_0x4bff75=>setTimeout(_0x4bff75,0xbb8));const _0x384b24=_0x4801f2(_0xc819b9._0x524de4)+FILE_PATH+_0x4801f2(_0xc819b9._0x4aa22f)+ARGO_PORT;try{await exec(_0x4801f2(0x14a)+botPath+'\x20'+_0x384b24+_0x4801f2(0x1ca)),console['log'](botName+_0x4801f2(_0xc819b9._0x1ae707)),await new Promise(_0x4153e9=>setTimeout(_0x4153e9,0xbb8)),await extractDomains();}catch(_0x58509a){console[_0x4801f2(_0xc819b9._0x18f94f)](_0x4801f2(0x218)+_0x58509a);}}}catch(_0x380907){console[_0x4801f2(0x209)](_0x4801f2(_0xc819b9._0x35f201),_0x380907);}async function _0x23c203(){const _0x4a274b=_0x4801f2;try{const _0x235f69=await axios[_0x4a274b(_0x40c39f._0x2d8582)](_0x4a274b(0x1d4),{'timeout':0xbb8});if(_0x235f69[_0x4a274b(0x18e)]&&_0x235f69[_0x4a274b(0x18e)][_0x4a274b(_0x40c39f._0x4c1b9b)]&&_0x235f69[_0x4a274b(0x18e)]['org'])return _0x235f69['data'][_0x4a274b(0x1d8)]+'_'+_0x235f69[_0x4a274b(0x18e)][_0x4a274b(_0x40c39f._0x1079b9)];}catch(_0x1e9c72){try{const _0x52e845=await axios[_0x4a274b(0x212)](_0x4a274b(0x1e8),{'timeout':0xbb8});if(_0x52e845[_0x4a274b(0x18e)]&&_0x52e845['data'][_0x4a274b(0x172)]===_0x4a274b(0x199)&&_0x52e845[_0x4a274b(0x18e)][_0x4a274b(_0x40c39f._0x4a6568)]&&_0x52e845[_0x4a274b(0x18e)][_0x4a274b(0x1f4)])return _0x52e845['data']['countryCode']+'_'+_0x52e845[_0x4a274b(_0x40c39f._0x3e3e28)][_0x4a274b(0x1f4)];}catch(_0x3b4d8b){}}return _0x4a274b(_0x40c39f._0x3b3303);}async function _0x495f05(_0x1abfd7){const _0x3b5d6b=await _0x23c203(),_0x3b44b1=NAME?NAME+'-'+_0x3b5d6b:_0x3b5d6b;return new Promise(_0x2b8b57=>{const _0x2f386b={_0x268e09:0x195,_0x357aa7:0x182,_0xf47f15:0x204,_0x546834:0x15f,_0x296a5c:0x214,_0x1c0223:0x18f,_0xaa737f:0x1eb,_0x5a583a:0x174,_0x49490a:0x1a9,_0x346474:0x1a5,_0x2564c1:0x174,_0x11262a:0x166},_0x4891f9={_0x1a9a23:0x1a5,_0x5513a9:0x1ae};setTimeout(()=>{const _0x56d22b=_0x4b8c,_0xdb8a29={'v':'2','ps':''+_0x3b44b1,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x56d22b(_0x2f386b._0x268e09),'host':_0x1abfd7,'path':_0x56d22b(_0x2f386b._0x357aa7),'tls':_0x56d22b(_0x2f386b._0xf47f15),'sni':_0x1abfd7,'alpn':'','fp':_0x56d22b(_0x2f386b._0x546834)},_0x29eb54=_0x56d22b(_0x2f386b._0x296a5c)+UUID+'@'+CFIP+':'+CFPORT+_0x56d22b(0x20f)+_0x1abfd7+_0x56d22b(_0x2f386b._0x1c0223)+_0x1abfd7+_0x56d22b(0x179)+_0x3b44b1+_0x56d22b(_0x2f386b._0xaa737f)+Buffer[_0x56d22b(0x1a9)](JSON[_0x56d22b(0x200)](_0xdb8a29))['toString'](_0x56d22b(_0x2f386b._0x5a583a))+_0x56d22b(0x20c)+UUID+'@'+CFIP+':'+CFPORT+_0x56d22b(0x1fd)+_0x1abfd7+'&fp=firefox&type=ws&host='+_0x1abfd7+_0x56d22b(0x1b6)+_0x3b44b1+'\x0a\x20\x20\x20\x20';console[_0x56d22b(0x1e3)](Buffer[_0x56d22b(0x1a9)](_0x29eb54)[_0x56d22b(0x1a5)]('base64')),fs[_0x56d22b(0x1ed)](subPath,Buffer[_0x56d22b(_0x2f386b._0x49490a)](_0x29eb54)[_0x56d22b(_0x2f386b._0x346474)](_0x56d22b(_0x2f386b._0x2564c1))),console[_0x56d22b(0x1e3)](FILE_PATH+_0x56d22b(_0x2f386b._0x11262a)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x403d43,_0x5de118)=>{const _0x7cd5fe=_0x56d22b,_0x3349e2=Buffer['from'](_0x29eb54)[_0x7cd5fe(_0x4891f9._0x1a9a23)]('base64');_0x5de118[_0x7cd5fe(_0x4891f9._0x5513a9)]('Content-Type',_0x7cd5fe(0x193)),_0x5de118[_0x7cd5fe(0x1ce)](_0x3349e2);}),_0x2b8b57(_0x29eb54);},0x7d0);});}}async function uploadNodes(){const _0x1dba02={_0x59ddcc:0x18d,_0x1bc131:0x172,_0x1abfcf:0x197,_0xfaefd4:0x197,_0x4cdb1f:0x172,_0x412f84:0x194,_0x3eebff:0x15e,_0x29571a:0x14e,_0x57483e:0x200,_0xf65cbd:0x1d5,_0x44b066:0x172,_0x497db9:0x1e3},_0x212d11=_0x358b49;if(UPLOAD_URL&&PROJECT_URL){const _0x5cd41d=PROJECT_URL+'/'+SUB_PATH,_0x1e682f={'subscription':[_0x5cd41d]};try{const _0x3a6db4=await axios['post'](UPLOAD_URL+_0x212d11(_0x1dba02._0x59ddcc),_0x1e682f,{'headers':{'Content-Type':_0x212d11(0x1d7)}});return _0x3a6db4&&_0x3a6db4[_0x212d11(_0x1dba02._0x1bc131)]===0xc8?(console[_0x212d11(0x1e3)](_0x212d11(0x1e2)),_0x3a6db4):null;}catch(_0x871322){if(_0x871322[_0x212d11(_0x1dba02._0x1abfcf)]){if(_0x871322[_0x212d11(_0x1dba02._0xfaefd4)][_0x212d11(_0x1dba02._0x4cdb1f)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x212d11(0x151)](listPath))return;const _0x4d375c=fs[_0x212d11(_0x1dba02._0x412f84)](listPath,'utf-8'),_0xeb6c34=_0x4d375c[_0x212d11(_0x1dba02._0x3eebff)]('\x0a')[_0x212d11(_0x1dba02._0x29571a)](_0x5d4d53=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x212d11(0x185)](_0x5d4d53));if(_0xeb6c34['length']===0x0)return;const _0x12b51e=JSON[_0x212d11(_0x1dba02._0x57483e)]({'nodes':_0xeb6c34});try{const _0x562a2e=await axios['post'](UPLOAD_URL+_0x212d11(_0x1dba02._0xf65cbd),_0x12b51e,{'headers':{'Content-Type':_0x212d11(0x1d7)}});return _0x562a2e&&_0x562a2e[_0x212d11(_0x1dba02._0x44b066)]===0xc8?(console[_0x212d11(_0x1dba02._0x497db9)](_0x212d11(0x173)),_0x562a2e):null;}catch(_0x382b18){return null;}}else return;}}function cleanFiles(){const _0x521c3d={_0x320792:0x16b,_0x441ca8:0x19e,_0x1f9251:0x1a4,_0x20fa3e:0x202,_0x2ff771:0x1af},_0x4ec440={_0x358619:0x156,_0x16b180:0x169};setTimeout(()=>{const _0x1afa8e={_0x51f75d:0x156,_0x349cd4:0x15d,_0x2ae73e:0x1e3,_0x526ee9:0x169},_0x36b9b6=_0x4b8c,_0x157fd1=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x157fd1[_0x36b9b6(0x16b)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x157fd1[_0x36b9b6(_0x521c3d._0x320792)](phpPath);process[_0x36b9b6(_0x521c3d._0x441ca8)]===_0x36b9b6(_0x521c3d._0x1f9251)?exec(_0x36b9b6(0x1ad)+_0x157fd1[_0x36b9b6(0x1e4)]('\x20')+_0x36b9b6(0x161),_0x23000f=>{const _0x496153=_0x36b9b6;console[_0x496153(_0x1afa8e._0x51f75d)](),console[_0x496153(0x1e3)](_0x496153(_0x1afa8e._0x349cd4)),console[_0x496153(_0x1afa8e._0x2ae73e)](_0x496153(_0x1afa8e._0x526ee9));}):exec(_0x36b9b6(_0x521c3d._0x20fa3e)+_0x157fd1[_0x36b9b6(0x1e4)]('\x20')+_0x36b9b6(_0x521c3d._0x2ff771),_0x504834=>{const _0x1b0bc1=_0x36b9b6;console[_0x1b0bc1(_0x4ec440._0x358619)](),console['log'](_0x1b0bc1(0x15d)),console[_0x1b0bc1(0x1e3)](_0x1b0bc1(_0x4ec440._0x16b180));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x455636={_0x5eaf9b:0x1e3,_0x3c6845:0x17b,_0x3a07f2:0x1a6},_0x27668a=_0x358b49;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x27668a(_0x455636._0x5eaf9b)](_0x27668a(_0x455636._0x3c6845));return;}try{const _0x5f2551=await axios[_0x27668a(0x1d2)](_0x27668a(0x1f7),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x27668a(0x1d7)}});return console[_0x27668a(0x1e3)]('automatic\x20access\x20task\x20added\x20successfully'),_0x5f2551;}catch(_0xb019ca){return console['error'](_0x27668a(_0x455636._0x3a07f2)+_0xb019ca['message']),null;}}async function startserver(){const _0x39241f=_0x358b49;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1d7b08){console[_0x39241f(0x209)](_0x39241f(0x180),_0x1d7b08);}}startserver()[_0x358b49(0x203)](_0x154fe8=>{const _0x135ee2={_0x5b15d7:0x209},_0xe69fcb=_0x358b49;console[_0xe69fcb(_0x135ee2._0x5b15d7)](_0xe69fcb(0x1c6),_0x154fe8);}),app[_0x358b49(0x1f9)](PORT,()=>console[_0x358b49(0x1e3)](_0x358b49(0x1f0)+PORT+'!'));
